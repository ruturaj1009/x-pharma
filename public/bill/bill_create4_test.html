<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Create Lab Bill - Tests</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
body{
    background:linear-gradient(135deg,#e3f2fd,#f9fbff);
    font-family:"Segoe UI",sans-serif;
}

/* CARD */
.main-card{
    max-width:900px;
    margin:40px auto;
    background:#fff;
    border-radius:16px;
    padding:40px;
    box-shadow:0 15px 40px rgba(0,0,0,.15);
    animation:fadeUp .5s ease;
}
@keyframes fadeUp{
    from{opacity:0;transform:translateY(25px)}
    to{opacity:1;transform:translateY(0)}
}

.page-title{
    font-size:28px;
    font-weight:600;
    margin-bottom:30px;
}

/* SEARCH */
.search-box{
    position:relative;
    max-width:600px;
    margin:auto;
}
.search-box input{
    width:100%;
    padding:16px 52px 16px 20px;
    font-size:16px;
    border-radius:30px;
    border:none;
    box-shadow:0 6px 18px rgba(0,0,0,.15);
    outline:none;
}
.clear-btn,
.dropdown-icon{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    font-size:18px;
    color:#666;
}
.clear-btn{
    right:44px;
    cursor:pointer;
    display:none;
}
.dropdown-icon{
    right:18px;
}

/* DROPDOWN */
.dropdown-list{
    position:absolute;
    width:100%;
    top:115%;
    background:#fff;
    border-radius:14px;
    box-shadow:0 12px 30px rgba(0,0,0,.2);
    max-height:320px;
    overflow-y:auto;
    display:none;
    z-index:10;
    animation:fadeUp .3s ease;
}
.test-item{
    display:flex;
    gap:14px;
    padding:14px 18px;
    cursor:pointer;
    transition:.25s;
}
.test-item:hover{
    background:#f1f6ff;
}
.test-icon{
    font-size:22px;
    color:#ff9800;
}
.test-name{font-weight:500}
.test-price{font-size:14px;color:#777}

/* NEXT BUTTON */
.next-btn{
    display:inline-block;
    margin-top:40px;
    padding:14px 46px;
    background:linear-gradient(135deg,#1565c0,#42a5f5);
    color:#fff;
    border-radius:30px;
    font-weight:600;
    letter-spacing:1px;
    text-decoration:none;
    transition:.3s;
}
.next-btn:hover{
    transform:translateY(-3px);
    box-shadow:0 10px 26px rgba(21,101,192,.5);
    color:#fff;
}

/* RESPONSIVE */
@media(max-width:576px){
    .main-card{padding:25px}
}
</style>
</head>

<body>

<div class="main-card text-center">
    <div class="page-title text-start">Tests</div>

    <div class="search-box">
        <input type="text" id="testInput" placeholder="Search for a test...">
        <i class="fa fa-xmark clear-btn" id="clearBtn"></i>
        <i class="fa fa-chevron-down dropdown-icon"></i>
        <div class="dropdown-list" id="dropdownList"></div>
    </div>

    <a href="bill_create5_summary.html" class="next-btn">NEXT</a>
</div>

<script>
const tests=[
 {name:"Iron Profile with ferritin",price:1650},
 {name:"Urine Culture & Sensitivity",price:400},
 {name:"Prothrombin Time (PT)",price:400},
 {name:"Activated Partial Prothrombin Time (APTT)",price:500},
 {name:"Peripheral Smear Report",price:250},
 {name:"Chest XRay PA View",price:350},
 {name:"Abdomen and Pelvic Scan",price:900},
 {name:"ECG",price:200},
 {name:"2D Echo",price:1500},
 {name:"Tread Mill Test (TMT)",price:1500},
 {name:"Peripheral smear study (PS)",price:250},
 {name:"OGTT",price:400},
 {name:"CBC",price:300},
 {name:"Widal Test",price:400}
];

const input=document.getElementById("testInput");
const dropdown=document.getElementById("dropdownList");
const clearBtn=document.getElementById("clearBtn");

function render(filter=""){
 dropdown.innerHTML="";
 tests.filter(t=>t.name.toLowerCase().includes(filter.toLowerCase()))
 .forEach(t=>{
  const d=document.createElement("div");
  d.className="test-item";
  d.innerHTML=`<i class="fa fa-file-lines test-icon"></i>
               <div><div class="test-name">${t.name}</div>
               <div class="test-price">â‚¹ ${t.price}</div></div>`;
  d.onclick=()=>{input.value=t.name;dropdown.style.display="none";clearBtn.style.display="block";}
  dropdown.appendChild(d);
 });
 dropdown.style.display="block";
}

input.oninput=()=>{render(input.value);clearBtn.style.display="block";}
input.onfocus=()=>render(input.value);
clearBtn.onclick=()=>{input.value="";dropdown.style.display="none";clearBtn.style.display="none";}
document.onclick=e=>{if(!e.target.closest(".search-box"))dropdown.style.display="none";}
</script>

</body>
</html>
