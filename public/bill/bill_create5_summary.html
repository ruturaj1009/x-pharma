<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bill Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{box-sizing:border-box}

body{
    margin:0;
    font-family:"Segoe UI",sans-serif;
    background:linear-gradient(135deg,#e3f2fd,#f9fbff);
}

/* CARD */
.container{
    max-width:920px;
    margin:40px auto;
    background:#fff;
    padding:30px;
    border-radius:16px;
    box-shadow:0 18px 45px rgba(0,0,0,.18);
    animation:fadeUp .5s ease;
}
@keyframes fadeUp{
    from{opacity:0;transform:translateY(25px)}
    to{opacity:1;transform:translateY(0)}
}

/* HEADER */
.header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:2px solid #1565c0;
    padding-bottom:14px;
}
.header h2{
    margin:0;
    color:#1565c0;
}

/* ACTIONS */
.bill-actions{position:relative}
.btn{
    border:none;
    padding:8px 14px;
    border-radius:6px;
    font-weight:600;
    cursor:pointer;
}
.btn-blue{background:#1565c0;color:#fff}
.btn-green{background:#2e7d32;color:#fff}
.btn-gray{background:#e0e0e0}

/* MORE MENU */
.more-menu{
    position:absolute;
    right:0;
    top:44px;
    background:#fff;
    width:220px;
    border-radius:10px;
    box-shadow:0 10px 25px rgba(0,0,0,.25);
    display:none;
    overflow:hidden;
}
.more-menu div{
    padding:12px 16px;
    cursor:pointer;
}
.more-menu div:hover{background:#f4f7ff}

/* INFO GRID */
.info-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:15px;
    margin-top:20px;
}
.info-box{
    background:#f6f9ff;
    padding:12px;
    border-radius:8px;
}
.info-box strong{display:block;color:#555}

/* TABLE */
table{
    width:100%;
    border-collapse:collapse;
    margin-top:25px;
}
th,td{
    padding:10px;
    border-bottom:1px solid #ddd;
}
th{background:#f1f4ff}
td:last-child,th:last-child{text-align:right}

/* SUMMARY */
.summary{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
    margin-top:20px;
}
.summary div{
    display:flex;
    justify-content:space-between;
    padding:10px;
    background:#f6f9ff;
    border-radius:8px;
    font-weight:500;
}

/* FOOTER */
.footer{
    display:flex;
    justify-content:flex-end;
    gap:10px;
    margin-top:25px;
}

/* MODAL */
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.55);
    display:none;
    align-items:center;
    justify-content:center;
}
.modal-content{
    background:#fff;
    padding:25px;
    width:380px;
    border-radius:14px;
}
.modal-content input,
.modal-content textarea{
    width:100%;
    padding:10px;
    margin:10px 0;
}

/* PRINT */
@media print{
    .bill-actions,.footer,.more-menu{display:none}
    body{background:#fff}
}
</style>
</head>

<body>

<div class="container">

<!-- HEADER -->
<div class="header">
    <h2>Bill Details</h2>
    <div class="bill-actions">
        <button class="btn btn-blue" onclick="window.print()">üñ® Print</button>
        <button class="btn btn-green">üëÅ View</button>
        <button class="btn btn-gray" onclick="toggleMore()">‚ãÆ</button>

        <div class="more-menu" id="moreMenu">
            <div onclick="addTest()">Add Test</div>
            <div onclick="deleteBill()">Delete Bill</div>
            <div onclick="window.print()">Print Settings</div>
            <div onclick="copyBill()">Copy Bill</div>
            <div onclick="openModal('note')">Add Note</div>
            <div onclick="openModal('patient')">Edit Patient</div>
            <div onclick="openModal('doctor')">Edit Doctor</div>
        </div>
    </div>
</div>

<!-- INFO -->
<div class="info-grid">
    <div class="info-box"><strong>Patient</strong><span id="pname">Rahul Kumar</span></div>
    <div class="info-box"><strong>Sex / Age</strong>Male / 28</div>
    <div class="info-box"><strong>Doctor</strong><span id="doctor">Dr. S. Verma</span></div>
    <div class="info-box"><strong>Bill ID</strong>LAB-10235</div>
    <div class="info-box"><strong>Date</strong>02-Jan-2026</div>
    <div class="info-box"><strong>Status</strong>Pending</div>
</div>

<!-- TABLE -->
<table id="testTable">
<thead>
<tr><th>Test Name</th><th>Price (‚Çπ)</th></tr>
</thead>
<tbody>
<tr><td>Iron Profile with Ferritin</td><td>1650</td></tr>
<tr><td>CBC</td><td>300</td></tr>
<tr><td>Blood Glucose</td><td>60</td></tr>
</tbody>
</table>

<!-- SUMMARY -->
<div class="summary">
    <div><span>Test Total</span><strong>‚Çπ 2010</strong></div>
    <div><span>Discount</span><strong>‚Çπ 100</strong></div>
    <div><span>Bill Total</span><strong>‚Çπ 1910</strong></div>
    <div><span>Paid</span><strong>‚Çπ 1500</strong></div>
    <div><span>Due</span><strong>‚Çπ 410</strong></div>
</div>

<!-- FOOTER -->
<div class="footer">
    <button class="btn btn-blue" onclick="window.print()">Download PDF</button>
    <button class="btn btn-green">Collect Payment</button>
</div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-content">
<h4 id="modalTitle"></h4>
<input id="modalInput">
<textarea id="modalTextarea" style="display:none"></textarea>
<button class="btn btn-blue" onclick="saveModal()">Save</button>
</div>
</div>

<script>
const moreMenu=document.getElementById("moreMenu");
const modal=document.getElementById("modal");
let modalType="";

function toggleMore(){
    moreMenu.style.display=moreMenu.style.display==="block"?"none":"block";
}
document.addEventListener("click",e=>{
    if(!e.target.closest(".bill-actions")) moreMenu.style.display="none";
});

function openModal(type){
    modalType=type;
    modal.style.display="flex";
    modalInput.style.display=type==="note"?"none":"block";
    modalTextarea.style.display=type==="note"?"block":"none";
    modalTitle.innerText={
        note:"Add Note",
        patient:"Edit Patient Name",
        doctor:"Edit Doctor Name"
    }[type];
    if(type==="patient") modalInput.value=pname.innerText;
    if(type==="doctor") modalInput.value=doctor.innerText;
}

function saveModal(){
    if(modalType==="patient") pname.innerText=modalInput.value;
    if(modalType==="doctor") doctor.innerText=modalInput.value;
    modal.style.display="none";
}

function addTest(){
    const n=prompt("Test Name");
    const p=prompt("Price");
    if(n&&p) testTable.querySelector("tbody").innerHTML+=
    `<tr><td>${n}</td><td>${p}</td></tr>`;
}
function deleteBill(){
    if(confirm("Delete this bill?")) alert("Bill Deleted");
}
function copyBill(){
    navigator.clipboard.writeText("Bill ID LAB-10235 | Total ‚Çπ1910");
    alert("Bill copied");
}
</script>

</body>
</html>
