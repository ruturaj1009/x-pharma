<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Lab Bill - Doctor</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
body{
    background:linear-gradient(135deg,#e3f2fd,#f9fbff);
    font-family:"Segoe UI",sans-serif;
}

/* CARD */
.main-card{
    background:#fff;
    max-width:1100px;
    margin:40px auto;
    border-radius:14px;
    box-shadow:0 12px 35px rgba(0,0,0,.15);
    overflow:hidden;
}

/* STEPPER */
.stepper{
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    gap:16px;
    padding:22px 30px;
    border-bottom:1px solid #e0e0e0;
}
.step{
    display:flex;
    align-items:center;
    gap:10px;
    color:#9e9e9e;
    font-weight:500;
}
.step.active{color:#0d47a1}
.step.completed{color:#2e7d32}

.circle{
    width:30px;
    height:30px;
    border-radius:50%;
    background:#cfd8dc;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
}
.step.completed .circle{
    background:#2e7d32;
}
.step.active .circle{
    background:linear-gradient(135deg,#1565c0,#42a5f5);
    box-shadow:0 0 10px rgba(21,101,192,.5);
}

/* BODY */
.card-body{
    padding:45px;
}
.title{
    font-size:26px;
    font-weight:600;
    margin-bottom:30px;
}

/* INPUTS */
label{
    font-size:14px;
    color:#555;
}
.form-control{
    border:none;
    border-bottom:2px solid #cfd8dc;
    border-radius:0;
    padding-left:0;
}
.form-control:focus{
    box-shadow:none;
    border-bottom-color:#1565c0;
}

/* SELECT ICON */
select.form-control{
    appearance:none;
    background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Cpath d='M4 6l4 4 4-4' stroke='%23666' stroke-width='2' fill='none'/%3E%3C/svg%3E") no-repeat right center;
}

/* HIDDEN */
.hidden{display:none}

/* ACTIONS */
.actions{
    display:flex;
    justify-content:center;
    gap:20px;
    margin-top:40px;
}
.btn-cancel{
    background:#fff;
    border:1px solid #ccc;
    padding:10px 28px;
    border-radius:25px;
}
.btn-next{
    background:linear-gradient(135deg,#1565c0,#42a5f5);
    color:#fff;
    padding:10px 32px;
    border-radius:25px;
    border:none;
    text-decoration:none;
}
.btn-next:hover{
    box-shadow:0 6px 18px rgba(21,101,192,.4);
    color:#fff;
}

/* ERROR */
.error-text{
    color:#d50000;
    font-size:14px;
    margin-top:5px;
    display:none;
}

/* RESPONSIVE */
@media(max-width:768px){
    .stepper{
        flex-direction:column;
        align-items:flex-start;
    }
    .card-body{
        padding:25px;
    }
}
</style>
</head>

<body>

<div class="main-card">

    <!-- STEPPER -->
    <div class="stepper">
        <div class="step completed">
            <div class="circle"><i class="fa fa-check"></i></div> Patient
        </div>

        <div class="step active">
            <div class="circle"><i class="fa fa-check"></i></div> Doctor <small>(Optional)</small>
        </div>

        <div class="step">
            <div class="circle">3</div> Test
        </div>

        <div class="step">
            <div class="circle">4</div> Summary
        </div>
    </div>

    <!-- FORM -->
    <div class="card-body">
        <div class="title">Doctor</div>

        <!-- Doctor Fields -->
        <div id="doctorFields">
            <div class="row g-4">
                <div class="col-md-5">
                    <label>First Name</label>
                    <input type="text" class="form-control" value="Dr.">
                </div>

                <div class="col-md-5">
                    <label>Last Name</label>
                    <input type="text" class="form-control" placeholder="Last Name">
                </div>

                <div class="col-md-2">
                    <label>Gender</label>
                    <select class="form-control">
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Checkbox -->
        <div class="form-check mt-4">
            <input class="form-check-input" type="checkbox" id="orgCheck">
            <label class="form-check-label">
                This is an Organisation like Clinic, Hospital, etc.
            </label>
        </div>

        <!-- Hospital -->
        <div id="hospitalSection" class="mt-4 hidden">
            <label class="text-danger">Hospital Name</label>
            <input type="text" id="hospitalName" class="form-control bg-light">
            <div class="error-text" id="hospitalError">Name is required</div>
        </div>

        <!-- ACTIONS -->
        <div class="actions">
            <button class="btn-cancel">CANCEL</button>
            <a href="bill_create4_test.html" class="btn-next" onclick="validateDoctor()">NEXT</a>
        </div>
    </div>

</div>

<script>
const orgCheck = document.getElementById("orgCheck");
const doctorFields = document.getElementById("doctorFields");
const hospitalSection = document.getElementById("hospitalSection");
const hospitalName = document.getElementById("hospitalName");
const hospitalError = document.getElementById("hospitalError");

orgCheck.addEventListener("change", () => {
    if (orgCheck.checked) {
        doctorFields.classList.add("hidden");
        hospitalSection.classList.remove("hidden");
        hospitalName.setAttribute("required","required");
    } else {
        doctorFields.classList.remove("hidden");
        hospitalSection.classList.add("hidden");
        hospitalName.removeAttribute("required");
        hospitalName.value="";
        hospitalError.style.display="none";
    }
});

function validateDoctor(){
    if(orgCheck.checked && hospitalName.value.trim()===""){
        hospitalError.style.display="block";
        hospitalName.focus();
        return false;
    }
    window.location.href="bill_create4_test.html";
}
</script>

</body>
</html>
